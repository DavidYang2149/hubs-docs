---
id: hubs-cloud-aws-troubleshooting
title: AWS 트러블슈팅(Trouble Shooting)
sidebar_label: AWS 트러블슈팅(Trouble Shooting)
---

## 배포

### 구축 후 내 AWS 스택에서 "ROLLBACK COMPLETE"라고 하는데, 무엇이 잘못되었습니까?

허브 클라우드 스택 배포 중에 문제가 발생했습니다. 기본적으로 AWS는 변경 내용을 롤백하고 스택을 삭제합니다.

#### 첫 번째 오류 이벤트 보기

1. AWS Cloudformation 탐색 > 스택에서 스택 이름 선택 > 오른쪽 사이드바의 "이벤트" 탭 선택
2. 이벤트 목록을 스크롤하여 "상태" 열에 **FIRST*** 빨간색 오류가 나타나는 곳까지 이동합니다. 이것은 무엇이 잘못되었는지에 대한 구체적인 오류여야 합니다.
3. 문제 해결을 위해 오류를 기록, 메모 또는 스크린샷합니다.
4. 동일한 파라미터를 사용하여 스택을 다시 배포합니다(때로는 2회 정도 소요됨). 그런 다음 동일한 오류가 발생하면...
4. 이 페이지의 특정 오류 검색(AWS 문제 해결)_
5. [Hubs Github 토론](https://github.com/mozilla/hubs/discussions) 에서 특정 오류를 검색합니다.
6. 검색에서 해결 방법을 찾지 못한 경우 [Hubs Github 토론](https://github.com/mozilla/hubs/discussions) 에서 스레드를 만듭니다.

### 롤백을 완전히 해제하려면

1. [AWS 허브 배포 프로세스]를 시작합니다(https://hubs.mozilla.com/cloud) > 1단계 및 2단계 완료 > "스택 옵션 구성" > "고급 옵션" > "스택 만들기 옵션" 확장 > "롤백 실패"에 대해 "사용 안 함" 선택
2. 스택 생성을 계속하고 스택이 실패한 오류를 확인합니다.
3. AWS CloudFormation에서 스택을 수동으로 삭제하여 배포 프로세스를 다시 시작합니다.

### ExternalZoneSSLCertLocalIfEast 오류 또는 InternalZoneSSLCert 오류 또는 시간 초과

SSL 인증서 검증에 문제가 있습니다.

#### 잠재적인 솔루션:

1. **도메인 확인**
    - 도메인 이름을 올바르게 입력했습니까?
    - AWS Route 53에 도메인을 등록했는지 확인합니다.
2. **전송 잠금이 도메인에 있습니까?**
    - aws Management Console > Route 53 > "등록된 도메인" > _ALL_ "Transfer Locks" "X"(일명 사용 안 함)를 확인하십시오.
    - 비활성화하려면: 도메인 클릭 > 전송 잠금 옵션에 대해 "사용 안 함" 선택
    - 배포 다시 시도
3. **인증서 제한에 도달했습니다. AWS에 증가를 요청해야 합니다.**
    - 이 스택을 여러 번 구축해 보았습니까? 이 경우 AWS는 기본적으로 매달 25개의 인증서만 생성할 수 있습니다. AWS 헬프 데스크 티켓을 생성하여 인증서 증가를 요청합니다. 며칠 내로 허브 클라우드를 다시 구축할 수 있습니다.
4. **DNS CNAME 문제.**
    - Hubs Cloud 스택을 다시 구축하기 전에 AWS Route 53으로 이동합니다.
    - 허브 클라우드에 사용할 도메인을 선택합니다.
    - 마지막 허브 스택 배치에서 왼쪽에서 CNAME 삭제 - 도메인이 다른 서비스에 사용하는 CNAME을 삭제하지 않도록 주의하십시오.
    - 허브 클라우드 스택을 다시 배포합니다.
5. **이름 서버가 기본 AWS 서버입니까?**
    - 다른 서비스를 가리키도록 이름 서버를 변경했을 수 있습니다. 현재 버전을 삭제하여 기본값으로 되돌립니다.

### .co.uk 또는 .com.fr과 같은 2차 도메인 사용

배포에 Recipe 3을 사용합니다. 알려진 버그입니다.

## 배포 성공 후

### "AWS 샌드박스"에 가입되어 있지만 "마법 링크" 이메일이 수신되지 않습니다.

배포를 완료했으며 허브 관리 콘솔에 액세스할 수 있습니다. Hubs Admin 콘솔에서도 "AWS 샌드박스"에 있다고 표시됩니다. 스택 AWS 전자 메일 서비스가 제한되어 있습니다.

### 솔루션 옵션:

1. **관리자의 개별 이메일 주소 확인**

- 사이트를 사용하여 관리할 사람이 적은 경우 SES를 통해 이메일 주소를 확인하도록 할 수 있습니다.
- AWS 콘솔에서 Simple Email Service로 이동한 다음 "Email Addresss"에서 사이트를 사용할 전자 메일 주소를 추가합니다.
- 각 작업자는 클릭해야 하는 확인 이메일을 받게 됩니다.
- 이메일 주소를 확인하면 "매직 링크" 이메일을 받을 수 있습니다.

2. **AWS에 제한 증가 요청**

- 24시간 동안 AWS 기술 지원에서 전자 메일 서비스 한도를 높일 때까지 기다려야 하는 경우 이 프로세스를 사용합니다.
- [AWS create case](https://console.aws.amazon.com/support/home?#/사례/만들기?이슈유형=기술)
- "서비스 제한 증가" 라디오 버튼을 선택합니다.
- **한계 유형:** "SES 전송 제한"
- **메일 유형:** "시스템 알림"
- **웹 사이트 URL - 선택 사항**
- **설명... 메일을 요청한 사용자:** "전자 메일 링크만 사용하여 사용자를 인증합니다. 호스트된 Mozilla Hubs Room에 가입하여 연결하려는 사용자는 이메일 주소를 입력하여 인증을 위한 이 '매직 허브' 링크를 받게 됩니다. 누구나 이메일을 입력하지 않고 가입하지 않도록 선택할 수 있습니다."
- **설명... 및 불만사항 알림:** "관리 이메일 주소로 전달하기 위해 반송 및 불만사항을 설정했습니다. 그리고 우리는 허브 룸에 가입하기 위해 이 '매직' 인증 이메일 링크를 제외한 다른 이메일은 보내지 않습니다. 우리는 서버에 이메일을 저장하지 않습니다."
- **AWS 서비스 약관을 준수하시겠습니까?:** "예"
- 요청 1
- 지역: ''US East (Northern Virginia)' 선택`
- 제한: 원하는 일별 발송 할당량
- 새 제한 값: 50,000
- 사례 설명: 메시지 필드에서 아래 질문에 답하십시오.
- 허브 클라우드 인스턴스의 역할은 무엇입니까? 요청에 사용 사례와 관련된 내용을 추가합니다.
- 메시지에 다음을 추가합니다. "제품은 암호를 지원하지 않으며 로그인하기 위한 이메일 링크만 지원합니다. 따라서 SES를 사용하여 이러한 이메일을 보내고자 합니다. 사용자가 로그인을 요청할 때 전송되는 자동 로그인 전자 메일 외에 제품에서 보내는 전자 메일이 없습니다. 당사는 원치 않는 전자 메일이나 기타 컨텐츠 지향 전자 메일은 보내지 않으며 링크 전자 메일에만 로그인합니다. 방문자의 이메일 주소는 저장하지 않습니다. 이메일은 로그인 시 당사로 안전하게 전송되어 이메일 링크를 보냅니다."
- 양식 제출
- 서비스 제한 증가 요청을 승인하는 이메일이 도착할 것입니다.

3. **SendGrid를 통한 SMTP 설정**
- 즉각적인 해결이 필요한 경우 이 프로세스를 사용합니다.
- [SendGrid](https://sendgrid.com/)에 등록합니다.
- 새 API 키 만들기
- API 키 이메일 전송 기능 부여
- 허브 클라우드 관리 콘솔에서 설정 업데이트
1. 서버 설정 > SMTP
2. "apikey"를 "Username"으로 입력합니다.
3. API 키 자체를 "암호"로 입력합니다.
4. "smtp.sendgrid.net"을 "호스트"로 입력합니다.
5. "2525"를 "포트"로 입력합니다.

### 지정한 키가 없습니다. 서비스: Amazon S3; 상태 코드: 404; 오류 코드: 해당 키 없음

아마존이 해결하고 있는 AWS 클라우드 포메이션의 버그다. 안타깝게도 스택을 삭제하고 다시 생성해야 합니다.

##허브 클라우드를 성공적으로 배포한 후 내 서버가 오프라인이거나 내 허브 클라우드 도메인에 "No SuchKey" 오류가 발생했습니다.

스택을 작성할 때 "오프라인 모드"를 선택했습니까? 그렇다면 올바르게 배치했지만 서버가 실행되고 있지 않은 것입니다!

실행 후 "온라인"으로 이동하려면 [Update the Stack Guide](hubs-cloud-aws-updating-the-stack.md)을 참조하십시오. 다시 "오프라인"으로 전환하려면 동일한 프로세스를 따르고 "오프라인"을 선택합니다.

또한 서버가 오프라인 상태일 때 트래픽을 리디렉션할 URL을 지정하여 이 오류 페이지를 방지할 수 있습니다.

### "이 룸에 연결할 수 없습니다. 나중에 다시 시도하십시오."

이 오류는 TURN 서버가 추가된 Hubs Cloud 버전 1.1.0에서 수정했습니다. 1.0.0에서 1.1.0으로 업그레이드해야 합니다. [.hubs-cloud-aws-updating-the-stack.html#업그레이드-to-a-stack-release]에 설명된 프로세스를 따르십시오.

그리고 [/hubs-cloud-aws-updating-the-stack.html#check-if-on-version-110]의 단계를 따라 1.1.0을 실행하고 있는지 확인합니다.

### 허브 관리 패널에 네트워크 오류 또는 찾을 수 없음 페이지가 표시되거나 관리 메뉴에 데이터가 입력되지 않습니다.

귀하의 계정은 *** 관리자가 아닐 가능성이 높습니다! 계정을 전환하거나 아래 전자 메일 주소에 대한 허브 스택 매개 변수를 확인하십시오.

#### Then, what is my hub stack's admin email address?

#### 그렇다면 내 허브 스택의 관리 이메일 주소는 무엇입니까?

**클라우드포메이션 스택을 통해 이메일 확인**

1. aws Management Console(**지역** 확인!)로 이동합니다.
2. 클라우드 포메이션 검색 및 이동
3. 스택 선택
4. 허브 스택을 선택합니다. _스택이 없습니까? 삭제하신 건가요, 아니면 다른 지역에 계신 건가요?_
5. "매개변수" 탭
6. "AdminEmailAddress" 매개 변수를 선택합니다. 대문자가 없는지 확인합니다!

**AWS의 전자 메일 확인 단순 전자 메일 서비스 메뉴(SES)**

1. AWS Management Console(**지역** 확인!)로 이동합니다.
2. 지역 **N을 선택합니다. 오른쪽 상단 모서리에 _ALL_ 지역의 버지니아(us-east-1)** 배치!
3. 검색 후 Simple Email Service로 이동합니다.
4. "이메일 주소"를 선택합니다.
5. 여기에 나열된 것 중 하나가 스택의 관리자 전자 메일 주소입니다.
- 대문자가 없는지 확인합니다!
- 이메일이 아직 "확인"되지 않은 경우, 클라우드 형성 중에 아마존이 보내는 확인 링크를 클릭해야 합니다.

### 버전 1.1.0인지 어떻게 알 수 있습니까?

[버전 1.1.0인지 확인](hubs-cloud-aws-updating-the-stack.html#check-if-your-on-version-110) 의 단계를 따르십시오.

## 이슈에 대한 해결책을 찾지 못했나요?

나머지 문서에서 필요한 내용을 찾을 수 없는 경우 [도움말 페이지](.help.html) 에서 연락 방법을 참조하십시오.